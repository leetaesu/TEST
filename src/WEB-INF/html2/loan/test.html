<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="description" content="키움증권의 대표 홈페이지입니다.">
    <meta name="keywords" content="키움증권">
    <meta name="author" content="키움증권">

    <title>키움증권 마이데이터</title>

    <!-- Style -->
    <link rel="stylesheet" href="../../../resources/js/lib/air-datepicker/datepicker.min.css">
    <link rel="stylesheet" href="../../../resources/css/new_ui_common.css">

</head>

<body>

    <div class="page-wrapper sub">
        <header>
            <h1>테스트</h1>
            <button type="button" class="sub-prev">이전으로 가기</button>
            <button type="button" class="sub-close">닫기</button>
        </header>

        <main class="module-group">

            <div class="module-box">

                <!-- <h3 class="fw-m">계좌 상세 > 거래 내역</h3>
                <div class="form-box flex-column">
                    <input readonly type="text" id="example" class="custom-input calendar input-block" placeholder="기간선택">
                </div>

                <h3 class="fw-m mt30">부동산 추가 > 계약 일자</h3>
                <div class="form-box mt10">
                    <input readonly type="text" id="example2" class="custom-input calendar input-block" placeholder="기간선택">
                    <span>~</span>
                    <input readonly type="text" id="example3" class="custom-input calendar input-block" placeholder="기간선택">
                </div>

                <h3 class="fw-m mt30">대출한도 비교 > 입사일자/개업일</h3>
                <div class="form-box mt10">
                    <input readonly type="text" id="example4" class="custom-input calendar input-block" placeholder="입사일을 입력해 주세요">
                </div>                

                <h3 class="fw-m mt30">날짜 변경</h3>
                <div class="form-box mt10">
                    <input readonly type="text" id="example5" class="custom-input input-block" style="border-bottom:0;">
                </div>     -->
                
                
                <div class="d-flex-between w-full mt30 text-center rd-datepicker-nav"><!-- class: rd-datepicker-nav-->
                    <a href="#;" class="d-block w50 rd-datepicker-action prev" data-action="prev">
                        <svg style="width:3.2rem;height:3.2rem;"><path style="fill:none;stroke:#9c9c9c;stroke-width:2px;" d="M 17,12 l -5,5 l 5,5"></path></svg>
                    </a>
                    <div class="position-relative w-100 rd-datepicker-title">
                        <!-- 
                            1. Input id로 rolldate 호출
                            2. Input rolldate value format: YYYY MM (년과 월 사이 space)
                        -->
                        <input type="text" id="current_date" class="w-100 text-center position-absolute" style="left:0;opacity:0;"><!-- 화면에 안보임 -->
                        <label for="current_date" class="text-center fs-lg fw-b"><!-- 화면에 보임 -->
                            <span class="year"></span>년 <span class="month ml5"></span>월
                        </label>
                    </div>
                    <a href="#;" class="d-block sub-link w50 rd-datepicker-action next" data-action="next">
                        <svg style="width:3.2rem;height:3.2rem;"><path style="fill:none;stroke:#9c9c9c;stroke-width:2px;" d="M 14,12 l 5,5 l -5,5"></path></svg>
                    </a>
                </div>
                
                

            </div>

        </main>
    </div>

    <article class="modal-popup bottomsheet" id="bottomsheet">
        <div class="modal-header">
            <h1>팝업 타이틀</h1>
            <button type="button" class="modal-close">닫기</button>
        </div>
        <div class="modal-body">

            <p>컨텐츠</p>

        </div>
        <div class="modal-footer">
            <div class="btn-box">
                <button type="button" class="btn btn-footer" onclick="KW_MOBILE.guiEvent.popup.closePop('#bottomsheet')">이전</button>
                <button type="button" class="btn btn-footer btn-primary">다음</button>
            </div>
        </div>
    </article>
        
    <!-- Script -->
    <script src="../../../resources/js/lib/jquery/jquery-3.2.1.min.js"></script>
    <script src="../../../resources/js/lib/swiper-6.5.1/swiper-bundle.min.js"></script>
    <script src="../../../resources/js/lib/air-datepicker/datepicker.min.js"></script>
    <script src="../../../resources/js/lib/air-datepicker/i18n/datepicker.ko.js"></script>
    <script src="../../../resources/js/views2/common/new_ui_common.js"></script>
    
    <script src="../../../resources/js/lib/rolldate-master/rolldate.js"></script>
    
    <script>
        // new Rolldate({
        //     el: '#example',
        //     format: 'YYYY/MM'
        // })
        // new Rolldate({
        //     el: '#example2',
        //     format: 'YYYY-MM-DD'
        // })
        // new Rolldate({
        //     el: '#example3',
        //     format: 'YYYY-MM-DD'
        // })   
        // new Rolldate({
        //     el: '#example4',
        //     format: 'YYYY-MM-DD'
        // })            
        
        (function() {

            if($('.rd-datepicker-nav').length > 0) {

                // rolldate datepicker
                var rd_date = {
                    year: new Date().getFullYear(),
                    month: new Date().getMonth() + 1
                }
                
                // label 날짜 초깃값 세팅 & next month 버튼 비활성화
                $('.rd-datepicker-title .year').text(rd_date.year),
                $('.rd-datepicker-title .month').text(rd_date.month);
                // $('.rd-datepicker-action.next svg').hide();
                
                // rolldate 날짜 선택과 동시에 label 날짜 적용
                function setSdDate(year, month) {
                    $('.rd-datepicker-title .year').text(year);
                    $('.rd-datepicker-title .month').text(month);
                }

                var rdObj = new Rolldate({
                    el: '#current_date',
                    format: 'YYYY MM',
                    beginYear: 2021,
                    endYear: rd_date.year,
                    trigger: 'tap',
                    lang: { title: '기간 선택', confirm: '확인', year: '',  month: '' },
                    init: function() {},
                    confirm: function(date) { $('#current_date').val(date).trigger('change'); }
                });

                // input value 변경 => lable 변경
                $('#current_date').on('change', function() {
                    var _this = $(this),
                        date_value = _this.val(),
                        date_value_array = date_value.split(/-|\/|\s|\.|:/g),
                        month_array = date_value_array[1].split(),
                        month_num;
                    
                    // 01월부터 09월까지 앞 '0' 삭제
                    month_array[0].substr(0,1) === '0' ? month_num = month_array[0].substr(1,1) : month_num = date_value_array[1];
                    setSdDate(date_value_array[0], month_num);
                });

            }

        })(window, jQuery);
    </script>

</body>

</html>